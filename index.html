<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Canvas Loading</title>
    <script src="animate-loading-canvas-browser.js?v=001"></script>
    <script>

        let queryData = getSearchData()
        let animateLoading = new AnimateLoadingCanvas('black', 0, 360)

        window.addEventListener('keydown', event => {
            switch (event.key){
                case 'ArrowLeft': animateLoading.speedUp();break
                case 'ArrowRight': animateLoading.speedDown();break
                case 'ArrowUp':
                    animateLoading.configLoading.gapAddDirection = 1
                    animateLoading.addLayer()
                    ;break
                case 'ArrowDown':
                    animateLoading.configLoading.gapAddDirection = -1
                    animateLoading.removeLayer()
                    ;break
                default: break
            }
        })

        /****************************
         *
         *  获取地址栏get数据
         *
         *  - 有值的时候返回一个包含所有参数的对象
         *  - 无值的时候，返回 `false`
         *
         ****************************/

        function getSearchData(){
            let searchString = location.search;
            if (searchString){
                let obj = {};
                searchString = searchString.substring(1, searchString.length);
                let tempArray = searchString.split('&');
                tempArray.forEach(item => {
                    obj[item.split('=')[0]] = decodeURIComponent(item.split('=')[1]);
                });
                return obj;
            } else {
                return false;
            }
        }
    </script>
</head>
<body>

</body>
</html>
